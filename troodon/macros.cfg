[gcode_macro PRINT_START]
gcode:
    {% set bed_temp = params.BED | default(55) | float %}
    {% set e0_temp = params.HOTEND | default(210) | float %}
    SET_HEATER_TEMPERATURE HEATER=extruder TARGET={e0_temp}
    SET_HEATER_TEMPERATURE HEATER=heater_bed TARGET={bed_temp}
    BED_MESH_CLEAR
    G28
    QUAD_GANTRY_LEVEL
    G28
    BED_MESH_CALIBRATE
    _PRINT_START4
    M109 S{e0_temp} ; wait for extruder temperature
    M190 S{bed_temp} ; wait for bed temperature

[gcode_macro M600]
gcode:
    PAUSE
    UNLOAD_FILAMENT

[gcode_macro SHUTDOWN]
gcode:
  {action_call_remote_method("shutdown_machine")}

[gcode_macro REBOOT]
gcode:
  {action_call_remote_method("reboot_machine")}
